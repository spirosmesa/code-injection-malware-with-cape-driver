using Analyzer.Data;
using Analyzer.Drivers.Cape.Reporting;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace Analyzer.Drivers.Cape;

public class CapeExecutionTraceReader
{
    private static readonly DateTime LinuxEpoch = new(1970, 1, 1, 0, 0, 0, 0, System.DateTimeKind.Utc);

    public static ExecutionResult FromFiles(string reportFile)
    {
        
        var callEvents = new List<ExecutionEvent>();
        var capeReport = CapeReport.FromFile(reportFile);   


        //For each event in CapeReport, timestamp, pid, tid, method.
        // copy from DrakvufExecutionTraceReader.FromReports
        decimal lastTimeStamp = 0;
        var behavior = capeReport.Behavior;
        
        if (behavior is not null) {
            foreach (var e in capeReport.Behavior.Processes)
            {

            }
        }
        



        return null;
    }


}
